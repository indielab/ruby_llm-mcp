---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-sonnet-20240620","messages":[{"role":"user","content":[{"type":"text","text":"Can
        you tell me the weather for Ottawa and San Francisco?"}]}],"temperature":0.7,"stream":false,"max_tokens":8192,"tools":[{"name":"get_weather_from_locations","description":"Get
        the weather from a list of locations","input_schema":{"type":"object","properties":{"locations":{"type":"array","items":{"type":"string"}}},"required":[]}},{"name":"get_weather_from_geocode","description":"Get
        the weather from a list of locations","input_schema":{"type":"object","properties":{"geocode":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}},"required":[]}},"required":["geocode"]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 22 Jun 2025 12:57:37 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-06-22T12:57:36Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-06-22T12:57:37Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '50'
      Anthropic-Ratelimit-Requests-Remaining:
      - '49'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-06-22T12:57:36Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '48000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '48000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-06-22T12:57:36Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - e1031ea3-bbf0-4676-9f23-42dec1e708ae
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_01XKoyekHNFWfN7Zvap9XQqx","type":"message","role":"assistant","model":"claude-3-5-sonnet-20240620","content":[{"type":"text","text":"Certainly!
        I''d be happy to provide you with the weather information for both Ottawa
        and San Francisco. To get this information, I''ll use the available tool to
        fetch the weather data for these locations."},{"type":"tool_use","id":"toolu_015ASd4cdnQ6wkY8BmkYj1yk","name":"get_weather_from_locations","input":{"locations":["Ottawa","San
        Francisco"]}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":471,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":105,"service_tier":"standard"}}'
  recorded_at: Sun, 22 Jun 2025 12:57:37 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-sonnet-20240620","messages":[{"role":"user","content":[{"type":"text","text":"Can
        you tell me the weather for Ottawa and San Francisco?"}]},{"role":"assistant","content":[{"type":"text","text":"Certainly!
        I''d be happy to provide you with the weather information for both Ottawa
        and San Francisco. To get this information, I''ll use the available tool to
        fetch the weather data for these locations."},{"type":"tool_use","id":"toolu_015ASd4cdnQ6wkY8BmkYj1yk","name":"get_weather_from_locations","input":{"locations":["Ottawa","San
        Francisco"]}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_015ASd4cdnQ6wkY8BmkYj1yk","content":"Weather
        for Ottawa, San Francisco is great!"}]}],"temperature":0.7,"stream":false,"max_tokens":8192,"tools":[{"name":"get_weather_from_locations","description":"Get
        the weather from a list of locations","input_schema":{"type":"object","properties":{"locations":{"type":"array","items":{"type":"string"}}},"required":[]}},{"name":"get_weather_from_geocode","description":"Get
        the weather from a list of locations","input_schema":{"type":"object","properties":{"geocode":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}},"required":[]}},"required":["geocode"]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 22 Jun 2025 12:57:39 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-06-22T12:57:38Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-06-22T12:57:40Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '50'
      Anthropic-Ratelimit-Requests-Remaining:
      - '49'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-06-22T12:57:38Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '48000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '48000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-06-22T12:57:38Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - e1031ea3-bbf0-4676-9f23-42dec1e708ae
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_0119bf6zsYnk4KyFG9f5buir","type":"message","role":"assistant","model":"claude-3-5-sonnet-20240620","content":[{"type":"text","text":"Based
        on the information provided by the weather tool, I can tell you that the weather
        for both Ottawa and San Francisco is great!\n\nUnfortunately, the tool didn''t
        provide specific details about temperature, humidity, or other weather conditions.
        However, the general assessment is positive for both cities.\n\nIf you''d
        like more detailed information about specific aspects of the weather in these
        cities, such as temperature, precipitation, or wind conditions, please let
        me know, and I''ll try to find out if there''s a way to get more specific
        data."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":595,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":112,"service_tier":"standard"}}'
  recorded_at: Sun, 22 Jun 2025 12:57:39 GMT
recorded_with: VCR 6.3.1
