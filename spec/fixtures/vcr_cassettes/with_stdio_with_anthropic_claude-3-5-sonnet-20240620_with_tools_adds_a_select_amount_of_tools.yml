---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-sonnet-20240620","messages":[{"role":"user","content":[{"type":"text","text":"Can
        you tell me the weather for Ottawa and San Francisco?"}]}],"temperature":0.7,"stream":false,"max_tokens":8192,"tools":[{"name":"get_weather_from_locations","description":"Get
        the weather from a list of locations","input_schema":{"type":"object","properties":{"locations":{"type":"array","items":{"type":"string"}}},"required":[]}},{"name":"get_weather_from_geocode","description":"Get
        the weather from a list of locations","input_schema":{"type":"object","properties":{"geocode":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}},"required":[]}},"required":["geocode"]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 01 Jul 2025 15:44:12 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-07-01T15:44:11Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-07-01T15:44:12Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '50'
      Anthropic-Ratelimit-Requests-Remaining:
      - '49'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-07-01T15:44:09Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '48000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '48000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-07-01T15:44:11Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - e1031ea3-bbf0-4676-9f23-42dec1e708ae
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_01VH4bUWgabYUt67w7nkdrop","type":"message","role":"assistant","model":"claude-3-5-sonnet-20240620","content":[{"type":"text","text":"Certainly!
        I''d be happy to provide you with the weather information for both Ottawa
        and San Francisco. To get this information, I''ll use the available tool to
        fetch the weather data for these locations."},{"type":"tool_use","id":"toolu_018Gk3YjmhDn981WbEQb658u","name":"get_weather_from_locations","input":{"locations":["Ottawa","San
        Francisco"]}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":471,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":105,"service_tier":"standard"}}'
  recorded_at: Tue, 01 Jul 2025 15:44:12 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-sonnet-20240620","messages":[{"role":"user","content":[{"type":"text","text":"Can
        you tell me the weather for Ottawa and San Francisco?"}]},{"role":"assistant","content":[{"type":"text","text":"Certainly!
        I''d be happy to provide you with the weather information for both Ottawa
        and San Francisco. To get this information, I''ll use the available tool to
        fetch the weather data for these locations."},{"type":"tool_use","id":"toolu_018Gk3YjmhDn981WbEQb658u","name":"get_weather_from_locations","input":{"locations":["Ottawa","San
        Francisco"]}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_018Gk3YjmhDn981WbEQb658u","content":"Weather
        for Ottawa, San Francisco is great!"}]}],"temperature":0.7,"stream":false,"max_tokens":8192,"tools":[{"name":"get_weather_from_locations","description":"Get
        the weather from a list of locations","input_schema":{"type":"object","properties":{"locations":{"type":"array","items":{"type":"string"}}},"required":[]}},{"name":"get_weather_from_geocode","description":"Get
        the weather from a list of locations","input_schema":{"type":"object","properties":{"geocode":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}},"required":[]}},"required":["geocode"]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 01 Jul 2025 15:44:18 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-07-01T15:44:16Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-07-01T15:44:18Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '50'
      Anthropic-Ratelimit-Requests-Remaining:
      - '49'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-07-01T15:44:14Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '48000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '48000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-07-01T15:44:16Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - e1031ea3-bbf0-4676-9f23-42dec1e708ae
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_01XroAGyLbLmW9T5Js1DoBBM","type":"message","role":"assistant","model":"claude-3-5-sonnet-20240620","content":[{"type":"text","text":"Based
        on the information provided by the weather tool, I can tell you that the weather
        for both Ottawa and San Francisco is reported to be great!\n\nUnfortunately,
        the tool didn''t provide specific details about temperature, humidity, or
        other weather conditions. However, the general outlook seems positive for
        both cities.\n\nIs there any specific weather information you''d like to know
        about these cities? While I can''t provide more detailed data without additional
        tools, I''d be happy to explain what \"great\" weather typically means for
        these locations or answer any other questions you might have."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":595,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":117,"service_tier":"standard"}}'
  recorded_at: Tue, 01 Jul 2025 15:44:18 GMT
recorded_with: VCR 6.3.1
